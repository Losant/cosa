<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [cosa][1]
*   [db][2]
*   [init][3]
    *   [Parameters][4]
*   [Database][5]
    *   [init][6]
        *   [Parameters][7]
    *   [collection][8]
        *   [Parameters][9]
    *   [find][10]
        *   [Parameters][11]
    *   [insert][12]
        *   [Parameters][13]
    *   [update][14]
        *   [Parameters][15]
    *   [remove][16]
        *   [Parameters][17]
    *   [aggregate][18]
        *   [Parameters][19]
    *   [distinct][20]
        *   [Parameters][21]
    *   [replace][22]
        *   [Parameters][23]
*   [Model][24]
    *   [define][25]
        *   [Parameters][26]
*   [Cursor][27]
    *   [Parameters][28]
    *   [forEach][29]
        *   [Parameters][30]
    *   [forEachParallelLimitP][31]
        *   [Parameters][32]
    *   [count][33]
        *   [Parameters][34]
    *   [close][35]
    *   [isClosed][36]
    *   [filter][37]
        *   [Parameters][38]
    *   [limit][39]
        *   [Parameters][40]
    *   [map][41]
        *   [Parameters][42]
    *   [max][43]
        *   [Parameters][44]
    *   [min][45]
        *   [Parameters][46]
    *   [next][47]
    *   [serialForEach][48]
        *   [Parameters][49]
    *   [skip][50]
        *   [Parameters][51]
    *   [sort][52]
        *   [Parameters][53]
    *   [toArray][54]
*   [errors][55]
    *   [Conflict][56]
    *   [Validation][57]
*   [ImmutableDefinedObject][58]
    *   [Parameters][59]
*   [ImmutableArray][60]
    *   [Parameters][61]
*   [ImmutableDate][62]
    *   [Parameters][63]
*   [ImmutableBSONObjectId][64]
    *   [Parameters][65]
*   [ImmutableObject][66]
    *   [Parameters][67]
*   [Immutable][68]
*   [use][69]
    *   [Parameters][70]
*   [isImmutable][71]
    *   [Parameters][72]
*   [isImmutableType][73]
    *   [Parameters][74]
*   [create][75]
    *   [Parameters][76]

## cosa

[lib/index.js:10-10][77]

Main module that provides access to library classes and functions.

## db

[lib/index.js:16-16][78]

*   **See**: [Database][5]

Database connection instance.

## init

[lib/index.js:26-29][79]

Initialize cosa and connect to the database. Explicitly calling the
function is not needed if `process.env.COSA_DB_URI` is properly set.

### Parameters

*   `uri` **[string][80]?** URI to the database. If no URI is provided, the value
    of `process.env.COSA_DB_URI` is used. See
    [https://docs.mongodb.com/manual/reference/connection-string/][81] for
    information on the URI format.

Returns **[Promise][82]** db.init promise

## Database

[lib/db.js:75-403][83]

Singleton that provides methods for connecting to a MongoDB collection.

### init

[lib/db.js:99-137][84]

*   **See**: [init][3]

Initialize the database connection.

#### Parameters

*   `uri` **[string][80]?** URI to the database. If no URI is provided, the value
    of `process.env.COSA_DB_URI` is used. See
    [https://docs.mongodb.com/manual/reference/connection-string/][81] for
    information on the URI format.
*   `options` **[object][85]?** Optional collection settings.

Returns **[Promise][82]** returns the db when connected

### collection

[lib/db.js:146-167][86]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/db.html#collection][87]

Fetch a specific database collection.

#### Parameters

*   `name` **[string][80]** Collection name.
*   `options` **[object][85]?** Optional collection settings.

Returns **[Promise][82]** resolves with the connection

### find

[lib/db.js:196-247][88]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html][89]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#find][90]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#findOne][91]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#count][92]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/findoptions.html#readpreference][93]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/findoptions.html#batchsize][94]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/findoptions.html#nocursortimeout][95]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/findoptions.html#maxtimems][96]

Fetches documents from a collection with the given query.

#### Parameters

*   `collectionName` **[string][80]** Name of the collection.
*   `query` **[object][85]** MongoDB query object.
*   `options` **[object][85]?** MongoDB query options. (optional, default `{}`)

    *   `options.fields` **[object][85]?** (deprecated, will be mapped to projection) The fields to return in the query. Object of fields to include or exclude (not both), {'a':1
    *   `options.projection` **[object][85]?** The projection to return in the query. Object of projection to include or exclude (not both), {'a':1
    *   `options.sort` **([object][85] | [Array][97])?** Set to sort the documents coming back from the query. Array of indexes, \[\['a', 1]] etc.
    *   `options.skip` **[number][98]** Set to skip N documents ahead in your query (useful for pagination). (optional, default `0`)
    *   `options.limit` **[object][85]** Sets the limit of documents returned in the query. (optional, default `1000`)
    *   `options.count` **[object][85]** get a count of the items, instead of the items themselves. (optional, default `false`)
    *   `options.findOne` **[object][85]** Should a single item be returned. (optional, default `false`)
    *   `options.readPreference` **[object][85]?** the read preference for the query with one of the read constants
    *   `options.batchSize` **[number][98]?** number of items per batch (default in mongo driver is 1000)
    *   `options.noCursorTimeout` **[boolean][99]?** boolan, if the cursor can time out after being idle, mongo driver default is false
    *   `options.maxTimeMS` **[number][98]?** maximum amount of time (in ms) this cursor is allowed to live
    *   `options.session` **[object][85]?** Mongo session or Cosa Mongo session wrapper

Returns **[Cursor][27]** returns Cursor object

### insert

[lib/db.js:261-278][100]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#insertmany][101]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#insertOne][102]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/insertoneoptions.html#writeconcern][103]

Inserts the given docs into a collection.

#### Parameters

*   `collectionName` **[string][80]** Name of the collection.
*   `docs` **([object][85] | [Array][97])** Documents objects to insert.
*   `options` **[object][85]** options on insert (optional, default `{}`)

    *   `options.writeConcern` **[object][85]?** the write concern
    *   `options.session` **[object][85]?** Mongo session or Cosa Mongo session wrapper

Returns **[Promise][82]** resolves with an object with results, and ops as keys

### update

[lib/db.js:295-304][104]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#updateMany][105]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#updateOne][106]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/updateoptions.html#writeconcern][107]

Updates docs in a collection.

#### Parameters

*   `collectionName` **[string][80]** Name of the collection.
*   `query` **[object][85]** Query to find which documents to update.
*   `update` **[object][85]** Document properties to update.
*   `options` **[object][85]?** Optional settings see mongo documentation (optional, default `{}`)

    *   `options.multiple` **[boolean][99]** Should multiple documents be updated. (optional, default `false`)
    *   `options.upsert` **[boolean][99]** Should documents be inserted if they don't already exist. (optional, default `false`)
    *   `options.writeConcern` **[object][85]?** the write concern options
    *   `options.session` **[object][85]?** Mongo session or Cosa Mongo session wrapper

Returns **[Promise][82]** resolves with an object with results, and ops as keys

### remove

[lib/db.js:319-326][108]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#deleteMany][109]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#deleteOne][110]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/deleteoptions.html#writeconcern][111]

Removes docs from a collection.

#### Parameters

*   `collectionName` **[string][80]** Name of the collection.
*   `query` **[object][85]** Query to find which documents to remove.
*   `options` **[object][85]?** Optional settings see mongo documentation (optional, default `{}`)

    *   `options.multiple` **[boolean][99]** Should multiple documents be removed. (optional, default `false`)
    *   `options.writeConcern` **[object][85]?** the write concern options
    *   `options.session` **[object][85]?** Mongo session or Cosa Mongo session wrapper

Returns **[Promise][82]** resolves with an object with results, and ops as keys

### aggregate

[lib/db.js:343-352][112]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#aggregate][113]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/aggregateoptions.html#readpreference][114]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/aggregateoptions.html#batchsize][115]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/aggregateoptions.html#maxtimems][116]

Executes aggregation pipeline against a collection.

#### Parameters

*   `collectionName` **[string][80]** Name of the collection.
*   `pipeline` **[object][85]** Aggregation pipeline.
*   `options` **[object][85]?** Optional settings see mongo documentation (optional, default `{}`)

    *   `options.readPreference` **[object][85]?** the read preference for the query with one of the read constants
    *   `options.batchSize` **[number][98]?** number of items per batch (default in mongo driver is 1000)
    *   `options.maxTimeMS` **[number][98]?** maximum amount of time (in ms) this cursor is allowed to live
    *   `options.session` **[object][85]?** Mongo session or Cosa Mongo session wrapper

Returns **[Promise][82]** resolves with the result of the aggregation from mongo

### distinct

[lib/db.js:368-376][117]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#distinct][118]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/commandoperationoptions.html#readpreference][119]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/commandoperationoptions.html#maxtimems][120]

Returns list of unique values for the given key across a collection.

#### Parameters

*   `collectionName` **[string][80]** Name of the collection.
*   `key` **[string][80]** Document property.
*   `query` **[object][85]** Query to find which documents evaluate.
*   `options` **[object][85]?** Optional settings see mongo documentation (optional, default `{}`)

    *   `options.readPreference` **[string][80]?** the read preference for the query
    *   `options.maxTimeMS` **[number][98]?** maximum amount of time (in ms) this cursor is allowed to live
    *   `options.session` **[object][85]?** Mongo session or Cosa Mongo session wrapper

Returns **[Promise][82]** resolves with the result of the distinct query from mongo

### replace

[lib/db.js:390-401][121]

*   **See**: [http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#replace][122]
*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/interfaces/replaceoptions.html#writeconcern][123]

Replace a doc in a collection.

#### Parameters

*   `collectionName` **[string][80]** Name of the collection.
*   `query` **[object][85]** Query to find which documents evaluate.
*   `replace` **[object][85]** doc to save on the collection
*   `options` **[object][85]?** Optional settings see mongo documentation (optional, default `{}`)

    *   `options.writeConcern` **[object][85]?** the write concern options
    *   `options.session` **[object][85]?** Mongo session or Cosa Mongo session wrapper

Returns **[Promise][82]** resolves with the result of the distinct query from mongo

## Model

[lib/model.js:392-543][124]

Static class for working with Models

### define

[lib/model.js:392-543][124]

#### Parameters

*   `definition` **[Object][85]** the model in object form, properties, methods, virtuals

Returns **[Object][85]** an instance of Model

## Cursor

[lib/cursor.js:8-199][125]

Wrapper around MongoDB Cursor to convert results to Models.

### Parameters

*   `cursor` **[object][85]** MongoDB cursor object
*   `factory` **[function][126]** Factory function used to create Models based on document from cursor.

### forEach

[lib/cursor.js:20-24][127]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#foreach][128]

Iterates over cursor and executes the iterator for each model returned.

#### Parameters

*   `iterator` **[function][126]** a function that will be called for each doc

Returns **[Promise][82]** resolves when list is exhausted.

### forEachParallelLimitP

[lib/cursor.js:32-55][129]

Executes the iterator for the max number of items in parallel.

#### Parameters

*   `maxParallel` **[number][98]** the max number of items to run in parallel
*   `iterator` **[function][126]** a function that will be called for each doc

Returns **[Promise][82]** resolves when list is exhausted.

### count

[lib/cursor.js:64-66][130]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#count][131]

Returns the count of documents on the cursor.

#### Parameters

*   `applySkipLimit` **[boolean][99]** the number of docs to skip over in the count
*   `options` **[object][85]** mongo cursor count options

Returns **[number][98]** the count of items in the list

### close

[lib/cursor.js:73-75][132]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#close][133]

Close the underlying MongoDB cursor.

Returns **[boolean][99]** `true` if cursor is successfully closed

### isClosed

[lib/cursor.js:82-84][134]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#close][133]

Returns `true` if the cursor is closed.

Returns **[boolean][99]** `true` if the cursor is closed.

### filter

[lib/cursor.js:92-95][135]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#filter][136]

Sets the cursor query filter.

#### Parameters

*   `filter` **[object][85]** The filter object used for the cursor.

Returns **[Cursor][27]** the cursor instance

### limit

[lib/cursor.js:103-106][137]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#limit][138]

Sets the cursor limit.

#### Parameters

*   `limit` **[number][98]** A number to limit the cursor by.

Returns **[Cursor][27]** the cursor instance

### map

[lib/cursor.js:114-118][139]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#map][140]

Maps cursor results using the provided function.

#### Parameters

*   `transform` **[function][126]** A function that will be called by each document in the cursor.

Returns **[Cursor][27]** the cursor instance

### max

[lib/cursor.js:126-129][141]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#max][142]

Sets the cursor max.

#### Parameters

*   `max` **[number][98]** Specify a $max value to specify the exclusive upper bound for a specific index in order to constrain the results of find().

Returns **[Cursor][27]** the cursor instance

### min

[lib/cursor.js:137-140][143]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#min][144]

Sets the cursor min.

#### Parameters

*   `min` **[number][98]** Specify a $min value to specify the inclusive lower bound for a specific index in order to constrain the results of find().

Returns **[Cursor][27]** the cursor instance

### next

[lib/cursor.js:147-150][145]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#next][146]

Get the next available document from the cursor.

Returns **[Promise][82]** resolves with the next document from the cursor.

### serialForEach

[lib/cursor.js:158-166][147]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#forEach][148]

Like `Cursor.forEach` but guarantees non-parallel execution of iterator.

#### Parameters

*   `iterator` **[function][126]** the function that will be called by each document serially.

Returns **[Promise][82]** resolves when each item in the cursor has been passed to the iterator function

### skip

[lib/cursor.js:174-177][149]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#skip][150]

Sets the cursor skip.

#### Parameters

*   `value` **[number][98]** The skip for the cursor query.

Returns **[Cursor][27]** the cursor instance

### sort

[lib/cursor.js:186-189][151]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#sort][152]

Sets the cursor sort.

#### Parameters

*   `sortOrList` **([string][80] | [Array][97])** The key or keys set for the sort.
*   `direction` **[number][98]** `1` or `-1` for ascending or descending

Returns **[Cursor][27]** the cursor instance

### toArray

[lib/cursor.js:196-198][153]

*   **See**: [https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#toArray][154]

Returns the cursor results as an array.

Returns **[Promise][82]** that resolves into an array from the cursor

## errors

[lib/errors.js:19-39][155]

Custom errors.

### Conflict

[lib/errors.js:24-28][156]

Error used when an action results in a conflict between documents.

### Validation

[lib/errors.js:33-37][157]

Error used when validation of a document fails.

## ImmutableDefinedObject

[lib/defined-object.js:16-58][158]

Immutable handler used to create an immutable object based on definition
describing the object properties and methods.

### Parameters

*   `data` **[object][85]** Underlying defined object
*   `builder` **[object][85]** Builder instance
*   `options` **[object][85]** Optional settings

    *   `options.definition` **[object][85]** Defintion settings

        *   `options.definition.properties` **[object][85]?** Describes the properties of the immutable object.
        *   `options.definition.virtuals` **[object][85]?** Describes the virtual properties of the immutable object.
        *   `options.definition.methods` **[object][85]?** Describes the methods of the immutable object.

Returns **[undefined][159]** no return value

## ImmutableArray

[lib/array.js:12-76][160]

Immutable handler used to wrap a javascript array.

### Parameters

*   `data` **[object][85]** Underlying array
*   `builder` **[object][85]** Builder instance
*   `options` **[object][85]** Optional settings

Returns **[undefined][159]** no return value

## ImmutableDate

[lib/date.js:11-43][161]

Immutable handler used to wrap javascript Dates.

### Parameters

*   `data` **[object][85]** Underlying date
*   `builder` **[object][85]** Builder instance
*   `options` **[object][85]** Optional settings

Returns **[undefined][159]** no return value

## ImmutableBSONObjectId

[lib/bson-objectId.js:9-35][162]

Immutable handler used to wrap bson ObjectId.

### Parameters

*   `data` **[object][85]** the object id
*   `builder` **[object][85]** the immutable handler to wrapper the object id.

Returns **[undefined][159]** this adds methods on to the builder.

## ImmutableObject

[lib/object.js:20-26][163]

Immutable handler used to wrap a simple javascript object.

### Parameters

*   `data` **[object][85]** Underlying array
*   `builder` **[object][85]** Builder instance

Returns **[undefined][159]** no return value

## Immutable

[lib/immutable.js:35-126][164]

Static class for working with immutable data types.

## use

[lib/immutable.js:44-53][165]

Registers an immutable handler for the given data type. Handlers are used
to wrap specific data types. For example BSON ObjectIds or Dates.

### Parameters

*   `type` **[string][80]** the name of the type (optional, default `*`)
*   `handler` **[function][126]** the handler for the type

Returns **[undefined][159]** no return value

## isImmutable

[lib/immutable.js:60-63][166]

Returns `true` if the given value is an Immutable.

### Parameters

*   `value` **[object][85]** a value to check

Returns **[boolean][99]** if it is an immutable instance

## isImmutableType

[lib/immutable.js:71-73][167]

Returns `true` if the given value is an Immutable of the given type.

### Parameters

*   `value` **[object][85]** a value to check
*   `type` **[string][80]** type to check against

Returns **[boolean][99]** if the value is an immutable instance of that type

## create

[lib/immutable.js:81-125][168]

Creates an immutable object based on the given data.

### Parameters

*   `data` **[object][85]** Object to make immutable.
*   `options` **[object][85]?** Options passed to the immutable handler for the given data type. (optional, default `{}`)

Returns **[object][85]** the immutable wrapped object

[1]: #cosa

[2]: #db

[3]: #init

[4]: #parameters

[5]: #database

[6]: #init-1

[7]: #parameters-1

[8]: #collection

[9]: #parameters-2

[10]: #find

[11]: #parameters-3

[12]: #insert

[13]: #parameters-4

[14]: #update

[15]: #parameters-5

[16]: #remove

[17]: #parameters-6

[18]: #aggregate

[19]: #parameters-7

[20]: #distinct

[21]: #parameters-8

[22]: #replace

[23]: #parameters-9

[24]: #model

[25]: #define

[26]: #parameters-10

[27]: #cursor

[28]: #parameters-11

[29]: #foreach

[30]: #parameters-12

[31]: #foreachparallellimitp

[32]: #parameters-13

[33]: #count

[34]: #parameters-14

[35]: #close

[36]: #isclosed

[37]: #filter

[38]: #parameters-15

[39]: #limit

[40]: #parameters-16

[41]: #map

[42]: #parameters-17

[43]: #max

[44]: #parameters-18

[45]: #min

[46]: #parameters-19

[47]: #next

[48]: #serialforeach

[49]: #parameters-20

[50]: #skip

[51]: #parameters-21

[52]: #sort

[53]: #parameters-22

[54]: #toarray

[55]: #errors

[56]: #conflict

[57]: #validation

[58]: #immutabledefinedobject

[59]: #parameters-23

[60]: #immutablearray

[61]: #parameters-24

[62]: #immutabledate

[63]: #parameters-25

[64]: #immutablebsonobjectid

[65]: #parameters-26

[66]: #immutableobject

[67]: #parameters-27

[68]: #immutable

[69]: #use

[70]: #parameters-28

[71]: #isimmutable

[72]: #parameters-29

[73]: #isimmutabletype

[74]: #parameters-30

[75]: #create

[76]: #parameters-31

[77]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/index.js#L10-L10 "Source code on GitHub"

[78]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/index.js#L16-L16 "Source code on GitHub"

[79]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/index.js#L26-L29 "Source code on GitHub"

[80]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[81]: https://docs.mongodb.com/manual/reference/connection-string/

[82]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[83]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L75-L403 "Source code on GitHub"

[84]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L99-L137 "Source code on GitHub"

[85]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[86]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L146-L167 "Source code on GitHub"

[87]: https://mongodb.github.io/node-mongodb-native/4.0/classes/db.html#collection

[88]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L196-L247 "Source code on GitHub"

[89]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html

[90]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#find

[91]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#findOne

[92]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#count

[93]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/findoptions.html#readpreference

[94]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/findoptions.html#batchsize

[95]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/findoptions.html#nocursortimeout

[96]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/findoptions.html#maxtimems

[97]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[98]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[99]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[100]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L261-L278 "Source code on GitHub"

[101]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#insertmany

[102]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#insertOne

[103]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/insertoneoptions.html#writeconcern

[104]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L295-L304 "Source code on GitHub"

[105]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#updateMany

[106]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#updateOne

[107]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/updateoptions.html#writeconcern

[108]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L319-L326 "Source code on GitHub"

[109]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#deleteMany

[110]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#deleteOne

[111]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/deleteoptions.html#writeconcern

[112]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L343-L352 "Source code on GitHub"

[113]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#aggregate

[114]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/aggregateoptions.html#readpreference

[115]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/aggregateoptions.html#batchsize

[116]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/aggregateoptions.html#maxtimems

[117]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L368-L376 "Source code on GitHub"

[118]: https://mongodb.github.io/node-mongodb-native/4.0/classes/collection.html#distinct

[119]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/commandoperationoptions.html#readpreference

[120]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/commandoperationoptions.html#maxtimems

[121]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/db.js#L390-L401 "Source code on GitHub"

[122]: http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#replace

[123]: https://mongodb.github.io/node-mongodb-native/4.0/interfaces/replaceoptions.html#writeconcern

[124]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/model.js#L392-L543 "Source code on GitHub"

[125]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L8-L199 "Source code on GitHub"

[126]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[127]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L20-L24 "Source code on GitHub"

[128]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#foreach

[129]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L32-L55 "Source code on GitHub"

[130]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L64-L66 "Source code on GitHub"

[131]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#count

[132]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L73-L75 "Source code on GitHub"

[133]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#close

[134]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L82-L84 "Source code on GitHub"

[135]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L92-L95 "Source code on GitHub"

[136]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#filter

[137]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L103-L106 "Source code on GitHub"

[138]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#limit

[139]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L114-L118 "Source code on GitHub"

[140]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#map

[141]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L126-L129 "Source code on GitHub"

[142]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#max

[143]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L137-L140 "Source code on GitHub"

[144]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#min

[145]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L147-L150 "Source code on GitHub"

[146]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#next

[147]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L158-L166 "Source code on GitHub"

[148]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#forEach

[149]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L174-L177 "Source code on GitHub"

[150]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#skip

[151]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L186-L189 "Source code on GitHub"

[152]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#sort

[153]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/cursor.js#L196-L198 "Source code on GitHub"

[154]: https://mongodb.github.io/node-mongodb-native/4.0/classes/findcursor.html#toArray

[155]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/errors.js#L19-L39 "Source code on GitHub"

[156]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/errors.js#L24-L28 "Source code on GitHub"

[157]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/errors.js#L33-L37 "Source code on GitHub"

[158]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/defined-object.js#L16-L58 "Source code on GitHub"

[159]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[160]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/array.js#L12-L76 "Source code on GitHub"

[161]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/date.js#L11-L43 "Source code on GitHub"

[162]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/bson-objectId.js#L9-L35 "Source code on GitHub"

[163]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/object.js#L20-L26 "Source code on GitHub"

[164]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/immutable.js#L35-L126 "Source code on GitHub"

[165]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/immutable.js#L44-L53 "Source code on GitHub"

[166]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/immutable.js#L60-L63 "Source code on GitHub"

[167]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/immutable.js#L71-L73 "Source code on GitHub"

[168]: https://github.com/Losant/cosa/blob/1ac2d24b353801a6f93cf8dd897a074365ab2056/lib/immutable.js#L81-L125 "Source code on GitHub"

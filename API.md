<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [cosa](#cosa)
    -   [db](#db)
    -   [init](#init)
-   [Model](#model)
    -   [define](#define)
-   [Cursor](#cursor)
    -   [forEach](#foreach)
    -   [count](#count)
    -   [close](#close)
    -   [isClosed](#isclosed)
    -   [filter](#filter)
    -   [limit](#limit)
    -   [map](#map)
    -   [max](#max)
    -   [min](#min)
    -   [next](#next)
    -   [serialForEach](#serialforeach)
    -   [skip](#skip)
    -   [sort](#sort)
    -   [toArray](#toarray)
-   [errors](#errors)
    -   [Conflict](#conflict)
    -   [Validation](#validation)
-   [ImmutableDefinedObject](#immutabledefinedobject)
-   [ImmutableArray](#immutablearray)
-   [ImmutableDate](#immutabledate)
-   [ImmutableBSONObjectID](#immutablebsonobjectid)
-   [ImmutableObject](#immutableobject)
-   [Immutable](#immutable)
    -   [use](#use)
    -   [isImmutable](#isimmutable)
    -   [isImmutableType](#isimmutabletype)
    -   [create](#create)
-   [Database](#database)
    -   [init](#init-1)
    -   [collection](#collection)
    -   [find](#find)
    -   [insert](#insert)
    -   [update](#update)
    -   [remove](#remove)
    -   [aggregate](#aggregate)
    -   [distinct](#distinct)

## cosa

[lib/index.js:9-33](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/index.js#L9-L33 "Source code on GitHub")

Main module that provides access to library classes and functions.

### db

[lib/index.js:19-19](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/index.js#L19-L19 "Source code on GitHub")

-   **See: [Database](#database)**

Database connection instance.

### init

[lib/index.js:29-32](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/index.js#L29-L32 "Source code on GitHub")

Initialize cosa and connect to the database. Explicitly calling the 
function is not needed if `process.env.COSA_DB_URI` is properly set.

**Parameters**

-   `uri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** URI to the database. If no URI is provided, the value 
       of `process.env.COSA_DB_URI` is used. See 
       <https://docs.mongodb.com/manual/reference/connection-string/> for
       information on the URI format.

## Model

[lib/model.js:31-169](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/model.js#L31-L169 "Source code on GitHub")

Static class for working with Models

### define

[lib/model.js:31-169](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/model.js#L31-L169 "Source code on GitHub")

**Parameters**

-   `definition`  

## Cursor

[lib/cursor.js:9-12](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L9-L12 "Source code on GitHub")

Wrapper arround MongoDB Cursor to convert results to Models.

**Parameters**

-   `cursor` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** MongoDB cursor object
-   `factory` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** Factory function used to create Models based on document from cursor.

### forEach

[lib/cursor.js:20-32](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L20-L32 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#forEach>**

Iterates over cursor and executes the iterator for each model returned.

**Parameters**

-   `iterator` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### count

[lib/cursor.js:40-42](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L40-L42 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#count>**

Returns the count of documents on the cursor.

**Parameters**

-   `applySkipLimit` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### close

[lib/cursor.js:48-50](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L48-L50 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#close>**

Closed the underlying MongoDB cursor.

### isClosed

[lib/cursor.js:57-59](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L57-L59 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#isClosed>**

Returns `true` if the cursor is closed.

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

### filter

[lib/cursor.js:67-70](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L67-L70 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#filter>**

Sets the cursor query filter.

**Parameters**

-   `filter` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **[Cursor](#cursor)** 

### limit

[lib/cursor.js:78-81](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L78-L81 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#limit>**

Sets the cursor limit.

**Parameters**

-   `limit` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Cursor](#cursor)** 

### map

[lib/cursor.js:89-93](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L89-L93 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#map>**

Maps cursor results using the provided function .

**Parameters**

-   `transform` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 

Returns **[Cursor](#cursor)** 

### max

[lib/cursor.js:101-104](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L101-L104 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#max>**

Sets the cursor max.

**Parameters**

-   `max` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Cursor](#cursor)** 

### min

[lib/cursor.js:112-115](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L112-L115 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#min>**

Sets the cursor min.

**Parameters**

-   `min` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Cursor](#cursor)** 

### next

[lib/cursor.js:122-128](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L122-L128 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#next>**

Get the next available document from the cursor.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### serialForEach

[lib/cursor.js:136-145](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L136-L145 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#forEach>**

Like `Cursor.forEach` but guarantees non-parallel execution of iterator.

**Parameters**

-   `iterator` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### skip

[lib/cursor.js:153-156](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L153-L156 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#skip>**

Sets the cursor skip.

**Parameters**

-   `value`  
-   `skip` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Cursor](#cursor)** 

### sort

[lib/cursor.js:164-167](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L164-L167 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#sort>**

Sets the cursor sort.

**Parameters**

-   `sortOrList`  
-   `direction`  
-   `sort` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Cursor](#cursor)** 

### toArray

[lib/cursor.js:174-184](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/cursor.js#L174-L184 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html#toArray>**

Returns the cursor results as an array.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** 

## errors

[lib/errors.js:19-39](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/errors.js#L19-L39 "Source code on GitHub")

Custom errors.

### Conflict

[lib/errors.js:24-28](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/errors.js#L24-L28 "Source code on GitHub")

Error used when an action results in a conflict between documents.

### Validation

[lib/errors.js:33-37](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/errors.js#L33-L37 "Source code on GitHub")

Error used when validation of a document fails.

## ImmutableDefinedObject

[lib/defined-object.js:15-58](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/defined-object.js#L15-L58 "Source code on GitHub")

Immutable handler used to create an immutable object based on definition 
describing the object properties and methods.

**Parameters**

-   `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `builder` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `options.definition` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
        -   `options.definition.properties` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Describes the properties of the immutable object.
        -   `options.definition.virtuals` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Describes the virtual properties of the immutable object.
        -   `options.definition.methods` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Describes the methods of the immutable object.

## ImmutableArray

[lib/array.js:11-84](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/array.js#L11-L84 "Source code on GitHub")

Immutable handler used to wrap a javascript array.

**Parameters**

-   `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `builder` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## ImmutableDate

[lib/date.js:10-50](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/date.js#L10-L50 "Source code on GitHub")

Immutable handler used to wrap javascript Dates.

**Parameters**

-   `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `builder` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## ImmutableBSONObjectID

[lib/bson-objectId.js:8-34](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/bson-objectId.js#L8-L34 "Source code on GitHub")

Immutable handler used to wrap bson ObjectID.

**Parameters**

-   `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `builder` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## ImmutableObject

[lib/object.js:9-25](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/object.js#L9-L25 "Source code on GitHub")

Immutable handler used to wrap a simple javascript object.

**Parameters**

-   `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `builder` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## Immutable

[lib/immutable.js:13-108](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/immutable.js#L13-L108 "Source code on GitHub")

Static class for working with immutable data types.

### use

[lib/immutable.js:21-30](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/immutable.js#L21-L30 "Source code on GitHub")

Registers an immutable handler for the given data type. Handlers are used 
to wrap specific data types. For example BSON ObjectIds or Dates.

**Parameters**

-   `type` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)**  (optional, default `*`)
-   `handler` **[function](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function)** 

### isImmutable

[lib/immutable.js:37-40](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/immutable.js#L37-L40 "Source code on GitHub")

Returns `true` if the given value is an Immutable.

**Parameters**

-   `value` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

### isImmutableType

[lib/immutable.js:48-50](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/immutable.js#L48-L50 "Source code on GitHub")

Returns `true` if the given value is an Immutable of the given type.

**Parameters**

-   `value` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `type` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

### create

[lib/immutable.js:58-106](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/immutable.js#L58-L106 "Source code on GitHub")

Creates an immutable object based on the given data.

**Parameters**

-   `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Object to make immutable.
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Options passed to the immutable handler for the given data type.

Returns **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## Database

[lib/db.js:13-22](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L13-L22 "Source code on GitHub")

Singleton that provides methods for connecting to a MongoDB collection.

### init

[lib/db.js:64-93](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L64-L93 "Source code on GitHub")

-   **See: [init](init)**

Initialize the database connection.

**Parameters**

-   `uri` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** URI to the database. If no URI is provided, the value
       of `process.env.COSA_DB_URI` is used. See
       <https://docs.mongodb.com/manual/reference/connection-string/> for
       information on the URI format.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### collection

[lib/db.js:102-131](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L102-L131 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Db.html#collection>**

Fetch a specific database collection.

**Parameters**

-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Collection name.
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Optional collection settings.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### find

[lib/db.js:150-178](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L150-L178 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Cursor.html>**
-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#find>**
-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#findOne>**
-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#count>**

Fetches documents from a collection with the given query.

**Parameters**

-   `collection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the collection.
-   `query` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** MongoDB query object.
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** MongoDB query options.
    -   `options.fields` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** The fields to return in the query. Object of fields to include or exclude (not both), {'a':1
    -   `options.sort` **([object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object) \| [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array))?** Set to sort the documents coming back from the query. Array of indexes, \[['a', 1]] etc.
    -   `options.skip` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Set to skip N documents ahead in your query (useful for pagination). (optional, default `0`)
    -   `options.limit` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Sets the limit of documents returned in the query. (optional, default `1000`)
    -   `options.count` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Should the count of items be returned instead of the items themselves. (optional, default `false`)
    -   `options.findOne` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Should a single item be returned. (optional, default `false`)

Returns **[Cursor](#cursor)** 

### insert

[lib/db.js:188-209](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L188-L209 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#insertmany>**
-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#insertOne>**

Inserts the given docs into a collection.

**Parameters**

-   `collection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the collection.
-   `docs` **([object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object) \| [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array))** Documents objects to insert.

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### update

[lib/db.js:223-250](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L223-L250 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#updateMany>**
-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#updateOne>**

Updates docs in a collection.

**Parameters**

-   `collection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the collection.
-   `query` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Query to find which documents to update.
-   `update` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Document properties to update.
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
    -   `options.multiple` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Should multiple documents be updated. (optional, default `false`)
    -   `options.upsert` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Should documents be inserted if they don't already exist.. (optional, default `false`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### remove

[lib/db.js:262-286](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L262-L286 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#deleteMany>**
-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#deleteOne>**

Removes docs from a collection.

**Parameters**

-   `collection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the collection.
-   `query` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Query to find which documents to remove.
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
    -   `options.multiple` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Should multiple documents be removed. (optional, default `false`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### aggregate

[lib/db.js:297-312](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L297-L312 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#aggregate>**

Executes aggregation pipeline against a collection.

**Parameters**

-   `collection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the collection.
-   `pipeline` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Aggregation pipeline.
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
    -   `options.explain` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Should should the execution plan be returned. (optional, default `false`)

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

### distinct

[lib/db.js:323-336](https://github.com/acdaniel/cosa/blob/8df5d192c3594d747fe41554a47947356770a5db/lib/db.js#L323-L336 "Source code on GitHub")

-   **See: <http://mongodb.github.io/node-mongodb-native/3.0/api/Collection.html#distinct>**

Returns list of unique values for the given key across a collection.

**Parameters**

-   `collection` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the collection.
-   `key` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Document property.
-   `query` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Query to find which documents evaluate.
-   `options` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 
